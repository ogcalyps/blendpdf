version: 1
frontend:
  phases:
    preBuild:
      commands:
        - npm ci
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: .next
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
      - .next/cache/**/*
# AWS Amplify Configuration Notes:
# 1. API route timeouts: Next.js maxDuration (30s) may not be enough
# 2. Check AWS Amplify Console → App settings → Build settings
# 3. Look for "Function timeout" or "Lambda timeout" - increase to 30 seconds
# 4. If API routes still timeout, check CloudWatch for actual Lambda function logs
# 5. Consider file size limits - large uploads may timeout before processing

